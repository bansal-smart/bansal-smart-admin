<%- include('../layouts/header') %>


<div class="content-body">
  <div class="container-fluid">
    <div class="row">
      <div class="col-12">
        <div class="card">
        <div
                class="card-header d-flex align-items-center justify-content-between"
               
              >
                <h4 class="card-title mb-0"><%= title %></h4>
          
                    
                    <button type="button" id="backButton" class="btn btn-primary btn-sm"> <i class="fa fa-arrow-left"></i> Back</button>
                 
              </div>
        <div class="card-body">
         
          <form id="submitForm" method="post" action="<%= form_url %>" enctype="multipart/form-data">
            <div class="row">
              

              <div class="form-group col-sm-6">
                  <label class="form-label">Course *</label>
                  <select name="course_id" id="course_id" class="form-control" required>
                    <option value="">Select Course</option>
                    <% courses.forEach(function(course) { %>
                      <option value="<%= course.id %>" <% if (post && post.course_id == course.id) { %> selected <% } %>>
                        <%= course.course_name %>
                      </option>
                    <% }); %>
                  </select>
                </div>

                <div class="form-group col-sm-6">
                  <label class="form-label">Subject *</label>
                  <select name="subject_id" id="subject_id" class="form-control" required>
                    <option value="">Select Subject</option>
                    <% subjects.forEach(function(subject) { %>
                      <option value="<%= subject.id %>" <% if (post && post.subject_id == subject.id) { %> selected <% } %>>
                        <%= subject.subject_name %>
                      </option>
                    <% }); %>
                  </select>
                </div>
               
                <div class="form-group col-sm-6">
                  <label class="form-label">Chapter *</label>
                  <select name="chapter_id" id="chapter_id" class="form-control" required>
                    <option value="">Select Chapter</option>
                    <% chapters.forEach(function(chapter) { %>
                      <option value="<%= chapter.id %>" <% if (post && post.chapter_id == chapter.id) { %> selected <% } %>>
                        <%= chapter.chapter_name %>
                      </option>
                    <% }); %>
                  </select>
                </div>
                
                <div class="form-group col-sm-6">
                  <label class="form-label">Topic Name *</label>
                  <input type="text" name="topic_name" id="topic_name" value="<%= post.topic_name %>" class="form-control" required placeholder="Enter Topic Name">
                </div>

              <!-- Status -->
              <div class="col-md-4">
                <div class="form-group">
                  <label class="form-label">Status</label>
                  <select class="form-control" name="status" id="status">
                    <option value="1" <%= post.status == 1 ? 'selected' : '' %>>Active</option>
                    <option value="0" <%= post.status == 0 ? 'selected' : '' %>>Inactive</option>
                  </select>
                </div>
              </div>

              <% if (post && post.id) { %>
                <input type="hidden" name="id" value="<%= post.id %>">
              <% } %>

              <div class="col-md-12 mt-3">
                <button type="submit" id="submitButton" class="btn btn-primary float-right"
                        data-loading-text="<i class='fa fa-spinner fa-spin'></i> Sending..."
                        data-rest-text="<%= post?.id ? 'Update' : 'Create' %>">
                  <%= post?.id ? 'Update' : 'Create' %>
                </button>
              </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>

<%- include('../layouts/footer') %>
